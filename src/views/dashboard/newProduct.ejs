<!DOCTYPE html>
<html lang="es">

<head>
  <script src="/js/form-product.js"></script>

    <%- include('partialsDashboard/head') %>
</head>

    <body class="dashboard">

    <%- include('partialsDashboard/header') %>

    <!-- row section -->
    <div class=" u-section-row padding-tb">

            <h2 class="das-titulo">Agregar Productos</h2>
            <!-- Body Dashboard -->
            <div class="das-body">

                <!-- Formulario Crear Producto -->
                <form action="/dashboard" method="post" enctype="multipart/form-data" class="formulario bg-gris-claro formNewProduct">

                  <div class="w-100">
                    <label for="name" class="form-label">Nombre del producto:</label>
                    <input type="text" id="name" name="name" placeholder="Nombre del Producto" class="w-100" 
                    value="<%= product.name %>" />
                    <p class="errorMsg">
                      
                      </p>
                    <% if (locals.errors && errors.name) { %>
                      <p class="errorMsg">
                      <%= errors.name.msg %>
                      </p>
                    <% } %>
                  </div>

                  <div class="w-100">
                    <label for="description" class="form-label">Descripcion producto:</label>
                    <textarea name="description" id="description" placeholder="Descripción" class="w-100" rows="8" cols="50" 
                    ><%= product.description %></textarea>
                    <p class="errorMsg">

                    <% if (locals.errors && errors.description) { %>
                      <p class="errorMsg">
                      <%= errors.description.msg %>
                      </p>
                    <% } %>
                  </div>

                  <div class="w-100 flex">
                    <div class="r-25">
                      <label for="category" class="form-label">Categoría:</label>                     
                      <select name="category" id="category" class="form-input" >
                        <% for( let i = 0; i < category.length; i++ ) { %>
                          <option value="<%= category[i].id %>" <%=product.category== category[i].id? "selected" : "" %>><%= category[i].type %></option>
                        <% } %>
                      </select>
                    </div>
                    <div class="r-25">
                      <label for="colors" class="form-label">
                        
                        <% if (locals.errors && errors.colors) { %>
                          <p class="errorMsg">
                          <%= errors.colors.msg %>
                          </p>
                          <% } else { %>
                            <p class="colorMsg">Seleccione un color:</p>
                            
                        <% }%>
                        
                     </label>      
                              <ul class="caja-talles">
                            <% for( let i = 0; i < colors.length; i++ ) { %>
                              <li class="div-talles"><%= colors[i].color %>
                               
                                <input type="checkbox" name="colors" id="colors" value="<%= colors[i].id %>" 
                                
                                <% if (product.colors) { %>
                                <% for( let j = 0; j < product.colors.length; j++ ) { %> 
                                  <%=product.colors[j]== colors[i].id? "checked" : "" %>
                                  <% } %>
                                  <% } %>>
                                
                              </li>
                            

                              <% } %>
                              
                            </ul>
                  </div>
                    <div class="r-25">
                    
                    <label for="sizes" class="form-label">
                      <% if (locals.errors && errors.sizes) { %>
                        <p class="errorMsg">
                        <%= errors.sizes.msg %>
                        </p>
                        <% } else { %>
                          <p class="sizeMsg">Seleccione un talle:</p>

                      <% }%>
                    </label>                        
                          <ul class="caja-talles">
                          <% for( let i = 0; i < sizes.length; i++ ) { %>
                            <li class="div-talles"><%= sizes[i].size %>
                              <input type="checkbox" name="sizes" id="sizes" value="<%= sizes[i].id %>"
                              <% if (product.sizes) { %>
                               
                              
                              <% for( let j = 0; j < product.sizes.length; j++ ) { %> 
                                <%=product.sizes[j]== sizes[i].id? "checked" : "" %>
                                <% } %>
                                <% } %>>
                            </li>
                            <% } %>
                          </ul>
                    </div>
                    
                  </div>
                  <div class="w-100 flex">
                    <div class="r-33">
                      <label for="genre" class="form-label">Genero:</label>
                      <select name="genre" id="genre" class="form-input" >
                        <% for( let i = 0; i < genre.length; i++ ) { %>
                          <option value="<%= genre[i].id %>" <%=product.genre== genre[i].id? "selected" : "" %>><%= genre[i].genre %></option>
                        <% } %>
                       
                    </select>
                     
                    </div>

                    <div class="r-33">
                      <label for="brand" class="form-label">Marca:</label>
                      <select name="brand" id="brand" class="form-input" >
                        <% for( let i = 0; i < brand.length; i++ ) { %>
                          <option value="<%= brand[i].id %>" <%=product.brand== brand[i].id? "selected" : "" %>><%= brand[i].name %></option>
                        
                        <% } %>
                       
                    </select>
                    </div>

                    <div class="r-33">
                      <label for="material" class="form-label">Material:</label>
                      <select name="material" id="material" class="form-input" >
                        <% for( let i = 0; i < material.length; i++ ) { %>
                          <option value="<%= material[i].id %>" <%=product.material== material[i].id? "selected" : "" %>><%= material[i].type %></option>
                        
                        <% } %>
                       
                    </select>
                    </div>
                  </div>

                  <div class="r-50">
                    <label for="price" class="form-label">Precio:</label>
                    <input type="text" id="price" name="price" placeholder="Precio" class="w-100" 
                    value="<%= product.price %>" />
                    <p class="errorMsg">

                    <% if (locals.errors && errors.price) { %>
                      <p class="errorMsg">
                      <%= errors.price.msg %>
                      </p>
                  <% } %>
                  </div>

                  <div class="r-50">
                    <label for="discount" class="form-label">Precio Rebajado:</label>
                    <input type="text" id="discount" name="discount" placeholder="Descuento" class="w-100" />
                  </div>
    

                  <label for="images">

                    <% if (locals.errors && errors.images) { %>
                    <p class="errorMsg">
                    <%= errors.images.msg %>
                    </p>
                    <% } else { %>
                      Seleccione una imagen:
                  <% }%></label>
                  <input type="file" name="images" accept="image/png,image/jpeg,image/jpg" class="border-box" multiple>


                  <div class="w-100 botones padding-tb">
                    <button type="reset" class="rest"><span class="far fa-trash-alt"> </span> Limpiar</button>
                    <button type="submit" class="submit" id="submit-button">GUARDAR </i></button>
                     
                  </div>

                </form>
                <!-- Fin Formulario Crear Producto -->

            </div>
            <!-- Fin Body Dashboard -->

    </div>
    <!-- Fin row section -->

    <!-- Copyright -->
    <%- include('partialsDashboard/footer') %>
        
    </body>

</html>